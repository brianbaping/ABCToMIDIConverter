<Window x:Class="ABCToMIDIConverter.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:ABCToMIDIConverter.UI"
        Title="{Binding WindowTitle}" Height="600" Width="800"
        WindowStartupLocation="CenterScreen">
    <DockPanel>
        <!-- Menu Bar -->
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_File">
                <MenuItem Header="_New" Command="{Binding NewCommand}" InputGestureText="Ctrl+N">
                    <MenuItem.Icon>
                        <TextBlock Text="📄" FontSize="14"/>
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="_Open..." Command="{Binding OpenCommand}" InputGestureText="Ctrl+O">
                    <MenuItem.Icon>
                        <TextBlock Text="📂" FontSize="14"/>
                    </MenuItem.Icon>
                </MenuItem>
                <Separator/>
                <MenuItem Header="_Save" Command="{Binding SaveCommand}" InputGestureText="Ctrl+S">
                    <MenuItem.Icon>
                        <TextBlock Text="💾" FontSize="14"/>
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Save _As..." Command="{Binding SaveAsCommand}" InputGestureText="Ctrl+Shift+S">
                    <MenuItem.Icon>
                        <TextBlock Text="💾" FontSize="14"/>
                    </MenuItem.Icon>
                </MenuItem>
                <Separator/>
                <MenuItem Header="Recent Files" Name="RecentFilesMenuItem">
                    <MenuItem Header="(No recent files)" IsEnabled="False"/>
                </MenuItem>
                <Separator/>
                <MenuItem Header="E_xit" InputGestureText="Alt+F4"/>
            </MenuItem>
        </Menu>
        
        <!-- Main Content -->
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Title -->
            <TextBlock Grid.Row="0" Text="🎵 ABC to MIDI Converter" 
                       FontSize="24" FontWeight="Bold" 
                       HorizontalAlignment="Center" Margin="0,0,0,20"
                       Foreground="DarkBlue"/>

            <!-- ABC Input -->
            <GroupBox Grid.Row="1" Header="📝 ABC Notation Input" Padding="5">
                <ScrollViewer>
                    <TextBox Name="AbcTextBox" 
                             TextWrapping="Wrap" 
                             AcceptsReturn="True"
                             FontFamily="Consolas"
                             FontSize="12"
                             Text="{Binding AbcText, UpdateSourceTrigger=PropertyChanged}"
                             VerticalScrollBarVisibility="Auto"/>
                </ScrollViewer>
            </GroupBox>

            <!-- Buttons -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" 
                        HorizontalAlignment="Center" Margin="0,15">
                <Button Content="🎼 Parse ABC" 
                        Padding="15,8" Margin="0,0,5,0" 
                        Command="{Binding ParseCommand}"
                        IsEnabled="{Binding IsConverting, Converter={x:Static local:Converters.BooleanNegationConverter}}"
                        Background="LightBlue"/>
                <Button Content="▶️ Preview" 
                        Padding="15,8" Margin="0,0,5,0" 
                        Command="{Binding PreviewCommand}"
                        Background="LightSalmon"/>
                <Button Content="⏹️ Stop" 
                        Padding="15,8" Margin="0,0,5,0" 
                        Command="{Binding StopCommand}"
                        Background="Orange"/>
                <Button Content="🎹 Convert to MIDI" 
                        Padding="15,8" Margin="0,0,5,0" 
                        Command="{Binding ConvertCommand}"
                        Background="LightGreen"/>
                <Button Content="🗑️ Clear" 
                        Padding="15,8" Margin="0,0,5,0"
                        Command="{Binding ClearCommand}"
                        Background="LightCoral"/>
                <Button Content="📄 Load Sample" 
                        Padding="15,8"
                        Command="{Binding LoadSampleCommand}"
                        Background="LightYellow"/>
            </StackPanel>

            <!-- Status -->
            <TextBlock Grid.Row="3" 
                       Text="{Binding StatusText}" 
                       Margin="0,10,0,5"
                       FontWeight="Bold"
                       FontSize="14"
                       Foreground="DarkGreen"/>

            <!-- Output -->
            <GroupBox Grid.Row="4" Header="📋 Output Messages" Padding="5">
                <ScrollViewer>
                    <TextBox Name="OutputTextBox" 
                             IsReadOnly="True"
                             TextWrapping="Wrap"
                             FontFamily="Consolas"
                             FontSize="11"
                             Text="{Binding OutputMessages}"
                             Background="#F5F5F5"
                             VerticalScrollBarVisibility="Auto"/>
                </ScrollViewer>
            </GroupBox>
        </Grid>
    </DockPanel>
</Window>